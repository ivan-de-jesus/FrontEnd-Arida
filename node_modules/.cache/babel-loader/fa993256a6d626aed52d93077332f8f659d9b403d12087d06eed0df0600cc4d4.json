{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { Loader } from '@googlemaps/js-api-loader';\nimport { searchLandsat } from '@/api/landsat'; // ➊ NUEVO\n\nexport default {\n  props: {\n    coords: {\n      type: Object,\n      required: true\n    }\n  },\n  data: () => ({\n    map: null\n  }),\n  async mounted() {\n    /* ---------- 1. Cargar Google Maps ---------- */\n    const loader = new Loader({\n      apiKey: process.env.VUE_APP_GOOGLE_KEY,\n      version: 'weekly'\n    });\n    const google = await loader.load();\n    const {\n      latitude: lat,\n      longitude: lng\n    } = this.coords;\n    this.map = new google.maps.Map(document.getElementById('map'), {\n      center: {\n        lat,\n        lng\n      },\n      zoom: 15,\n      disableDefaultUI: true\n    });\n    new google.maps.Marker({\n      position: {\n        lat,\n        lng\n      },\n      map: this.map\n    });\n\n    /* ---------- 2. Traer escena Landsat 8 ---------- */\n    try {\n      const ls8 = await searchLandsat({\n        lat,\n        lng\n      }); // ➋ NUEVO\n\n      // Bounding box de la escena\n      const [west, south, east, north] = ls8.bbox;\n\n      // Quick-look u otra URL de tiles\n      const overlay = new google.maps.GroundOverlay(ls8.assets.quicklook, {\n        north,\n        south,\n        east,\n        west\n      }, {\n        opacity: 0.6\n      });\n      overlay.setMap(this.map);\n    } catch (err) {\n      console.warn('No hay Landsat 8 cercana:', err.message);\n    }\n  }\n};","map":{"version":3,"names":["Loader","searchLandsat","props","coords","type","Object","required","data","map","mounted","loader","apiKey","process","env","VUE_APP_GOOGLE_KEY","version","google","load","latitude","lat","longitude","lng","maps","Map","document","getElementById","center","zoom","disableDefaultUI","Marker","position","ls8","west","south","east","north","bbox","overlay","GroundOverlay","assets","quicklook","opacity","setMap","err","console","warn","message"],"sources":["src/components/MapView.vue"],"sourcesContent":["<template>\r\n  <div id=\"map\" class=\"w-100 rounded shadow\" style=\"height:350px;\"></div>\r\n</template>\r\n\r\n<script>\r\nimport { Loader } from '@googlemaps/js-api-loader'\r\nimport { searchLandsat } from '@/api/landsat'   // ➊ NUEVO\r\n\r\nexport default {\r\n  props: { coords: { type: Object, required: true } },\r\n  data: () => ({ map: null }),\r\n  async mounted () {\r\n    /* ---------- 1. Cargar Google Maps ---------- */\r\n    const loader = new Loader({\r\n      apiKey: process.env.VUE_APP_GOOGLE_KEY,\r\n      version: 'weekly'\r\n    })\r\n    const google = await loader.load()\r\n\r\n    const { latitude: lat, longitude: lng } = this.coords\r\n    this.map = new google.maps.Map(document.getElementById('map'), {\r\n      center: { lat, lng },\r\n      zoom: 15,\r\n      disableDefaultUI: true\r\n    })\r\n    new google.maps.Marker({ position: { lat, lng }, map: this.map })\r\n\r\n    /* ---------- 2. Traer escena Landsat 8 ---------- */\r\n    try {\r\n      const ls8 = await searchLandsat({ lat, lng })        // ➋ NUEVO\r\n\r\n      // Bounding box de la escena\r\n      const [west, south, east, north] = ls8.bbox\r\n\r\n      // Quick-look u otra URL de tiles\r\n      const overlay = new google.maps.GroundOverlay(\r\n        ls8.assets.quicklook,\r\n        { north, south, east, west },\r\n        { opacity: 0.6 }\r\n      )\r\n      overlay.setMap(this.map)\r\n    } catch (err) {\r\n      console.warn('No hay Landsat 8 cercana:', err.message)\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";;AAKA,SAAAA,MAAA;AACA,SAAAC,aAAA;;AAEA;EACAC,KAAA;IAAAC,MAAA;MAAAC,IAAA,EAAAC,MAAA;MAAAC,QAAA;IAAA;EAAA;EACAC,IAAA,EAAAA,CAAA;IAAAC,GAAA;EAAA;EACA,MAAAC,QAAA;IACA;IACA,MAAAC,MAAA,OAAAV,MAAA;MACAW,MAAA,EAAAC,OAAA,CAAAC,GAAA,CAAAC,kBAAA;MACAC,OAAA;IACA;IACA,MAAAC,MAAA,SAAAN,MAAA,CAAAO,IAAA;IAEA;MAAAC,QAAA,EAAAC,GAAA;MAAAC,SAAA,EAAAC;IAAA,SAAAlB,MAAA;IACA,KAAAK,GAAA,OAAAQ,MAAA,CAAAM,IAAA,CAAAC,GAAA,CAAAC,QAAA,CAAAC,cAAA;MACAC,MAAA;QAAAP,GAAA;QAAAE;MAAA;MACAM,IAAA;MACAC,gBAAA;IACA;IACA,IAAAZ,MAAA,CAAAM,IAAA,CAAAO,MAAA;MAAAC,QAAA;QAAAX,GAAA;QAAAE;MAAA;MAAAb,GAAA,OAAAA;IAAA;;IAEA;IACA;MACA,MAAAuB,GAAA,SAAA9B,aAAA;QAAAkB,GAAA;QAAAE;MAAA;;MAEA;MACA,OAAAW,IAAA,EAAAC,KAAA,EAAAC,IAAA,EAAAC,KAAA,IAAAJ,GAAA,CAAAK,IAAA;;MAEA;MACA,MAAAC,OAAA,OAAArB,MAAA,CAAAM,IAAA,CAAAgB,aAAA,CACAP,GAAA,CAAAQ,MAAA,CAAAC,SAAA,EACA;QAAAL,KAAA;QAAAF,KAAA;QAAAC,IAAA;QAAAF;MAAA,GACA;QAAAS,OAAA;MAAA,CACA;MACAJ,OAAA,CAAAK,MAAA,MAAAlC,GAAA;IACA,SAAAmC,GAAA;MACAC,OAAA,CAAAC,IAAA,8BAAAF,GAAA,CAAAG,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}