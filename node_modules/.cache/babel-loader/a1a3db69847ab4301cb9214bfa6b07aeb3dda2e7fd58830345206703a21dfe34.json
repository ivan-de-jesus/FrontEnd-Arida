{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport LandingView from '@/views/LandingView.vue';\nimport AboutView from '@/views/AboutView.vue';\nimport Login from '@/views/Login.vue';\nimport Register from '@/views/Register.vue';\nimport DashboardView from '@/views/Dashboard.vue'; // crea este componente\nimport Ubicaciones from '@/views/Ubicaciones.vue';\nimport UbicacionDetalle from '@/views/UbicacionDetalle.vue';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  name: 'landing',\n  component: LandingView\n}, {\n  path: '/about',\n  name: 'about',\n  component: AboutView\n}, {\n  path: '/login',\n  name: 'login',\n  component: Login,\n  meta: {\n    hideNavbar: true\n  }\n}, {\n  path: '/register',\n  name: 'register',\n  component: Register,\n  meta: {\n    hideNavbar: true\n  }\n}, {\n  path: '/ubicaciones',\n  name: 'Ubicaciones',\n  component: Ubicaciones\n}, {\n  path: '/dashboard',\n  name: 'dashboard',\n  component: DashboardView,\n  meta: {\n    requiresAuth: false\n  }\n}, {\n  path: '/ubicacion/:id',\n  name: 'UbicacionDetalle',\n  component: UbicacionDetalle,\n  meta: {\n    requiresAuth: false\n  }\n},\n// redirigir rutas no definidas\n{\n  path: '*',\n  redirect: '/'\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  // elimina el '#' de la URL\n  routes\n});\n\n// Guard global: comprueba meta.requiresAuth\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem('authToken');\n  if (to.matched.some(record => record.meta.requiresAuth) && !token) {\n    // si la ruta requiere auth y no hay token, va a Login\n    next({\n      name: 'login'\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","LandingView","AboutView","Login","Register","DashboardView","Ubicaciones","UbicacionDetalle","use","routes","path","name","component","meta","hideNavbar","requiresAuth","redirect","router","mode","beforeEach","to","from","next","token","localStorage","getItem","matched","some","record"],"sources":["C:/Users/ian_c/OneDrive/Desktop/ARIDA/FrontEnd-Arida/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport LandingView from '@/views/LandingView.vue'\nimport AboutView from '@/views/AboutView.vue'\nimport Login from '@/views/Login.vue'\nimport Register from '@/views/Register.vue'\nimport DashboardView from '@/views/Dashboard.vue'  // crea este componente\nimport Ubicaciones from '@/views/Ubicaciones.vue'\nimport UbicacionDetalle from '@/views/UbicacionDetalle.vue'\n\n\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  { path: '/', name: 'landing', component: LandingView },\n  { path: '/about', name: 'about', component: AboutView },\n  {\n    path: '/login',\n    name: 'login',\n    component: Login,\n    meta: { hideNavbar: true }\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: Register,\n    meta: { hideNavbar: true }\n  },\n  { path: '/ubicaciones', name: 'Ubicaciones', component: Ubicaciones },\n\n  {\n    path: '/dashboard',\n    name: 'dashboard',\n    component: DashboardView,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/ubicacion/:id',\n    name: 'UbicacionDetalle',\n    component: UbicacionDetalle,\n    meta: { requiresAuth: false }\n  },\n  // redirigir rutas no definidas\n  { path: '*', redirect: '/' }\n]\n\nconst router = new VueRouter({\n  mode: 'history',   // elimina el '#' de la URL\n  routes\n})\n\n// Guard global: comprueba meta.requiresAuth\nrouter.beforeEach((to, from, next) => {\n  const token = localStorage.getItem('authToken')\n  if (to.matched.some(record => record.meta.requiresAuth) && !token) {\n    // si la ruta requiere auth y no hay token, va a Login\n    next({ name: 'login' })\n  } else {\n    next()\n  }\n})\n\nexport default router\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,OAAOC,aAAa,MAAM,uBAAuB,EAAE;AACnD,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,gBAAgB,MAAM,8BAA8B;AAK3DR,GAAG,CAACS,GAAG,CAACR,SAAS,CAAC;AAElB,MAAMS,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,GAAG;EAAEC,IAAI,EAAE,SAAS;EAAEC,SAAS,EAAEX;AAAY,CAAC,EACtD;EAAES,IAAI,EAAE,QAAQ;EAAEC,IAAI,EAAE,OAAO;EAAEC,SAAS,EAAEV;AAAU,CAAC,EACvD;EACEQ,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAET,KAAK;EAChBU,IAAI,EAAE;IAAEC,UAAU,EAAE;EAAK;AAC3B,CAAC,EACD;EACEJ,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAER,QAAQ;EACnBS,IAAI,EAAE;IAAEC,UAAU,EAAE;EAAK;AAC3B,CAAC,EACD;EAAEJ,IAAI,EAAE,cAAc;EAAEC,IAAI,EAAE,aAAa;EAAEC,SAAS,EAAEN;AAAY,CAAC,EAErE;EACEI,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEP,aAAa;EACxBQ,IAAI,EAAE;IAAEE,YAAY,EAAE;EAAM;AAC9B,CAAC,EACD;EACEL,IAAI,EAAE,gBAAgB;EACtBC,IAAI,EAAE,kBAAkB;EACxBC,SAAS,EAAEL,gBAAgB;EAC3BM,IAAI,EAAE;IAAEE,YAAY,EAAE;EAAM;AAC9B,CAAC;AACD;AACA;EAAEL,IAAI,EAAE,GAAG;EAAEM,QAAQ,EAAE;AAAI,CAAC,CAC7B;AAED,MAAMC,MAAM,GAAG,IAAIjB,SAAS,CAAC;EAC3BkB,IAAI,EAAE,SAAS;EAAI;EACnBT;AACF,CAAC,CAAC;;AAEF;AACAQ,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC/C,IAAIL,EAAE,CAACM,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACf,IAAI,CAACE,YAAY,CAAC,IAAI,CAACQ,KAAK,EAAE;IACjE;IACAD,IAAI,CAAC;MAAEX,IAAI,EAAE;IAAQ,CAAC,CAAC;EACzB,CAAC,MAAM;IACLW,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}